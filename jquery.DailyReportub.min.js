function dailyReportub(t){"use strict";let e=new Date,r=e.getFullYear(),o=e.getMonth();initDailyReportub(t,r,o),$("#drhubPrevMonth").on("click",function(){-1==--o&&(o=11,r--),setDailyReportub(t,r,o)}),$("#drhubNextMonth").on("click",function(){12==++o&&(o=0,r++),setDailyReportub(t,r,o)})}function initDailyReportub(t,e,r){(!("width"in t)||isNaN(t.width)||parseInt(t.width)<200)&&(t.width=200),(!("height"in t)||isNaN(t.height)||parseInt(t.height)<200)&&(t.height=200),"fontColor"in t&&isString(t.fontColor)&&""!==t.fontColor||(t.fontColor="#000"),"borderColor"in t&&isString(t.borderColor)&&""!==t.borderColor||(t.borderColor="#ccc"),"backgroundColor"in t&&isString(t.backgroundColor)&&""!==t.backgroundColor||(t.backgroundColor="transparent"),"grassColor"in t&&isString(t.grassColor)&&""!==t.grassColor||(t.grassColor="#0f0");let o='<div id="drhubHeader"><button id="drhubPrevMonth">◀</button><span id="drhubHeader_mid">'+e+" / "+(r+1)+'</span><button id="drhubNextMonth">▶</button></div>';$("#DailyReportub").append(o),$("#DailyReportub").css({width:t.width+"px",height:t.height+"px","background-color":t.backgroundColor});$("#DailyReportub").append('<div id="drhubBody"></div>'),setDailyReportub(t,e,r)}function setDailyReportub(t,e,r){let o=new Date;$("#drhubHeader_mid").html(e+" / "+(r+1)),$("#drhubBody").empty();let l="",i=["日","月","火","水","木","金","土"];o.setFullYear(e),o.setMonth(2),o.setDate(0);let n=[31,o.getDate(),31,30,31,30,31,31,30,31,30,31];o.setMonth(r),o.setDate(1);let d=o.getDay(),s=Math.ceil((d+n[r])/7)+1,a=new Array(7*(s-1));a.fill("");for(let t=0;t<d+n[r];t++)t<d||(a[t]=String(t-d+1));let h="events"in t;for(let n=0;n<s;n++){l='<div id="drhubRow_'+n+'" class="drhubRow"></div>',$("#drhubBody").append(l);for(let d=0;d<7;d++)if(0===n&&(l='<span class="drhubCell">'+i[d]+"</span>",$("#drhubRow_"+n).append(l)),0<n){let i=7*(n-1)+d;l='<span id="drhubCell_'+i+'" class="drhubCell">'+a[i]+"</span>",$("#drhubRow_"+n).append(l);let s=e+"/"+(r+1)+"/"+a[i];if(h&&s in t.events){$("#drhubCell_"+i).addClass("drhubHasTooltip"),$("#drhubCell_"+i).append('<span class="drhubTooltip"><p class="drhubTooltipText"></p></span>');let e=t.events[s].length;l="";for(let r=0;r<e;r++)l+=t.events[s][r]+"<br>";$("#drhubCell_"+i+">.drhubTooltip>.drhubTooltipText").append(l);let r=hex2rgb(t.grassColor),o=e>=4?0:e;o*=.25,$("#drhubCell_"+i).css({"background-color":"rgba("+r.r+","+r.g+","+r.b+","+o+")"})}s===(o=new Date).getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()&&$("#drhubCell_"+i).addClass("drhubToday")}}let u=Math.round(.85*t.height/s);$(".drhubRow").css({height:u+"px"});let b=Math.floor(t.width/7)-8;$(".drhubCell").css({width:b+"px",border:"1px solid "+t.borderColor}),$("#DailyReportub").css({color:t.fontColor})}function isString(t){return"string"==typeof t||t instanceof String}function hex2rgb(t){return"#"===t.slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}}